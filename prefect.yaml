# prefect.yaml
name: trading-data-ingestion
description: Hourly data ingestion flow for trading system
schedule:
  cron: "0 * * * *"
  timezone: "UTC"
tags:
  - trading
  - data-ingestion
  - hourly
work_queue: default
entrypoint: trading_deployment.py:data_ingestion_subflow
parameters: {}
storage:
  type: local
  path: .

pull:
- prefect.deployments.steps.git_clone:
    repository: https://github.com/nishantnayar/tradingsystem.git
    branch: main  # Changed from master to main

deployments:
- name: TradingAnalysis
  entrypoint: trading_deployment.py:data_ingestion_subflow
  work_pool:
    name: process
  schedule:
    cron: "0 19 * * 1-5"
    timezone: America/New_York